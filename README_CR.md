##Функциональный блок CR - Calculation_Rule

## Типы HTTP-запросов обрабатываемых приложением

* [GET] - без параметров
    * не поддерживается. Будет выведено соответствующее сообщение.

* [GET] - с параметрами
    * выводит список всех записей соответствующих object_type & object_id

* [POST] - с параметрами
    * сохраняет новую запись в таблице calculation_rule (правила расчета)

* [DELETE] - с параметрами
    * удаляет правило расчета из активных


### Раздел "Конфигурирование нового правила"
* [POST] - с параметрами
    * __calculation_rule_name__ - наименование правила расчета (string);
    * __object_type__ - наименование объекта (string) ['bms' || 'complex' || 'building' || 'apartment'];
    * __object_id__ - идентификатор объекта (integer);
    * __type_signal__   - тип сигнала (string) (поле universal_name таблицы universal_types);
    * __tags_device__   - список тэгов устройств (string[]. Поле device_tags.tag_name);
    * __tags_signal__   - список тэгов сигналов (string[]. Поле signal_tags.tag_name);
    * __time_period__   - период расчета (string. 1d, 29d, 1m...12m, 1w...52w);
    * __calculation_schedule__ - расписание запуска правила расчета (string). В формате cron,
      но все параметры только числовые (номер месяца по порядку и номер дня недели) либо '*';
      Час должен быть указан однозначно, конкретным числом. Действует ограничение: не чаще одного раза в сутки.

Все параметры не входящие в список буду отброшены.

При успешном завершении операции возвращает ссылку с номером записи.

### Раздел "Выгрузка списка отчетов"
* [GET] - с параметрами
    * __object_type__ - наименование объекта (string). Один из ['bms', 'complex', 'building', 'apartment'];
    * __object_id__ - идентификатор объекта (integer);
      Пример:
      GET http://{host}:{port}/calculation_rule?object_type=complex&object_id=204
        - будет искать и вернет все записи (если они существуют) у которых object_type=complex и object_id=204.

### Раздел "Удаление отчета"
* [DELETE] - с параметрами
    * __id__ - идентификатор правила в таблице (integer). Передается в json.
      Пример:
      DELETE http://{host}:{port}/calculation_rule
      у которого в теле запроса есть json {"id": 3}
        - сделает неактивной запись в таблице calculation_rule с идентификатором равным 3.
